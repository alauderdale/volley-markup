//variables
$control-nav-height: 61px;


.welcome-panel{
	background:$off-white-dark-color url("../images/welcome-bg.svg") center center no-repeat;
}

.add-new-product-bar{
	input{
		border:3px solid shade($border-color, 10%);
	}
	button{
		box-shadow:0 5px 15px 0 rgba(0,0,0,0.15);
		padding:11.5px 2rem!important;
	}
}

#top-bar{
	border-bottom:1px solid #bcc2ce;
	.share-button{
		padding-left:20px;
		padding-right:20px;
		@include breakpoint(sm) {
			padding-left:10px;
			padding-right:10px;
		}
	}
	a{
		&.mode-link{
			padding: 16px 15px 7px 15px;
			margin:0 5px;
			border-radius: 4px;
			svg{
				height:24px;
				path{
					transition: fill $base-transition-duration ease;
				}
				.icon{
					fill:$light-gray-color;
				}
			}
			&:hover{
				text-decoration:none;
				svg{
					.icon{
						fill:shade($light-gray-color,30%);
					}
				}
			}
			&.comment{
				svg{
					position: relative;
					top:3px;
				}
			}
			&.browse{
				svg{
					
				}
			}
			&.review{
				svg{
					
				}
			}
			&.active{
				background:$link-color;
				svg{
					.icon{
						fill:white;
					}
				}
			}
			// adjust bottom icons for mobile
			@include breakpoint(sm) {
				padding: 10px 10px 7px 10px;
				margin:0 2px;
				svg{
					height:18px;
				}
			}
		}
	}
}

.web-view-container{
	overflow: hidden;
	width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
	&.comment-mode{
		cursor:crosshair;
		.iframe-wrapper{
			.iframe-border{
				.overlay-container{
					.overlay-wrapper{
						background:rgba(0,0,0,.1);
					}
					.overlay-border{
						border-color:$link-color;
					}
					.overlay-helper{
						position:fixed;
						bottom:60px;
						text-align: center;
						width:100%;
						display: flex;
						.overlay-helper-inner{
							padding:4px 20px;
							border-radius: 4px;
							border-bottom-right-radius: 0px;
							border-bottom-left-radius: 0px;
							background:$link-color;
							display: flex;
							margin:0 auto;
							p{
								margin-bottom:0;
								color:white;
								font-size: 14px;
							}
						}
						
					}
				}
				iframe{
					
				}
			}
		}
	}
	&.adding-notes{
		pointer-events:none;
		filter: blur(8px);
		-webkit-filter: blur(8px);
		.overlay-wrapper{
			// background:rgba(0,0,0,.4)!important;

		}
		.overlay-border{
			border-color:transparent!important;
		}
	}
	.iframe-wrapper{
		height: 100%;
		width: 100%;
		padding-bottom: $control-nav-height;
		background: #9B9B9B;
		position: relative;
		.iframe-border{
			width: 100%;
			height: 100%;
			border: none;
			margin-left: auto;
			margin-right: auto;
			background: #fff;
			position: relative;
			.overlay-container{
				position: absolute;
				height: 100%;
				width: 100%;
				pointer-events: none;
				top: 0;
				left: 0;
				.overlay-wrapper{
				    background: transparent;
				    position: absolute;
				    left: 0;
				    right: 0;
				    width: 100%;
				    height: 100%;
				    pointer-events: none;
				}
				.overlay-border{
					position: absolute;
					height: 100%;
					width: 100%;
					pointer-events: none;
					top: 0;
					left: 0;
					border: solid 6px transparent;
				}
			}
			iframe{
				width: 100%;
				height: 100%;
				border: none;
			}
		}
	}
}


///review


.review-container{
	padding-top:$control-nav-height;
	width: 100%;
    height: 100%;
    top:0;
    left:0;
    position: absolute;
    display: flex;
}

////left bar
.notes-list-container{
    height: 100%;
    position: relative;
    top: 0;
    left: 0;
    width:280px;
    display: flex;
    overflow: hidden;
	@include breakpoint(md) {
		position: absolute!important;
		height: 100%;
		width: 280px;
		bottom:0;
		left:auto!important;
		right:0px!important;
		z-index: 1040;
		display: none;
		&:before{
			display: block;
			width:100%;
			height:100%;
			position:fixed;
			left:0;
			top:0;
			right: 0;
			bottom:0;
			background:rgba(0,0,0,.5);
			content: "";
		}
		.notes-list-body{
			padding-top:61px!important;
			.notes-list-header{
				left:auto!important;
				right:0px!important;
				top:0!important;
				padding:16px!important;
			}
			.notes-list-footer{
				left:auto!important;
				right:0px!important;
			}
		}
		&.notes-bar-open{
			display: block;
		}
	}
    
    .notes-list-body{
	    position: relative;
	    overflow-y:scroll;
	    height: 100%;
	    width:100%;
	    padding-top:50px;
	    padding-bottom:44px;
	    border-right:1px solid $border-color;
	    background:white;

	    .notes-list-header{
	    	width:280px;
	    	position:fixed;
	    	z-index: 9;
	    	top:56px;
	    	left:0;
	    	background:white;
	    	border-right:1px solid $border-color;

	    }
	    .note-thumbnail{
	    	padding:$baseline;
	    	cursor:pointer;
	    	background:white;
	    	position:relative;
	    	transition-duration:.2s;
	    	&:hover{
	    		background:$off-white-dark-color;

	    	}
	    	img{
	    		border:3px solid $border-color;
	    		border-radius:4px;
	    	}
	    	&.active{
	    		background:$link-color;
	    		h5, h6{
	    			color:white!important;
	    		}
	    	}
	    	&.resolved{
	    		&:after{
	    			content:"âœ“";
	    			position:absolute;
	    			right:10px;
	    			top:13px;
	    			color:$success-color;
	    		}
	    	}
	    }
	    .notes-list-footer{
	    	position:fixed;
	    	bottom:0px;
	    	left:0;
	    	background:white;
	    	width:100%;
	    	width:280px;
	    	border-right:1px solid $border-color;
	    	padding:18px;
	    	.show-resolved{
	    		position:relative;
	    		top:-4px;
	    		button{
	    			color:$light-text-color!important;
	    			font-size:13px;
	    			i{
	    				font-size:21px;
	    				top:6px;
	    				margin-right:4px;
	    			}
	    		}
	    	}
	    }
    }
}


.check-btn{
	button{
			color:$text-color!important;
			font-weight:400;
			padding:0;
			position:relative;
			&:hover, &:active, &:focus{
				text-decoration:none;
			}
		i{
			position:relative; 
			top:7px; 
			margin-right:8px;
		}
	}
}


.note-container{
	width: calc(100% - 280px);
    position: relative;
    top: 0;
    right:0;
    bottom:0;
    display: flex;
    overflow: hidden;
    ///the whole image and convo wrapper
	@include breakpoint(md) {
		width: 100%;
	}
    .note-body{
    	margin:0 auto;
    	width:100%;
    	overflow-y: scroll;
		.note-info{
			max-width: 850px;
			margin:0 auto;
			.resolved-header{
				padding:$baseline 10px;
			}
			.img-container{
				position:relative;
				.img-wrapper{
					.img-comment-container{
						img{
							width:100%;
							border: 1px solid #E6EAEE;
							border-radius: 7px;
							box-shadow: 0 4px 16px 0 #E0E6F8;
							@include breakpoint(md) {
								box-shadow:none;
								border-radius:0px;
							}
						}
					}
				}
			}
		}
    }
}

//this is both the menu button and the close button
.show-notes-toggle{
	display: none;
	margin-left:10px;
	.btn{
		line-height: 0;
	}
	i{
		line-height: 26px;
	}
	@include breakpoint(md) {
		display: inline-block;
	}
}

//note detail


.attachment-thumbnail{
	// cursor: pointer;
	display: block;
	border:1px solid $border-color;
	margin-bottom:$baseline/2;
	padding:$baseline/4;
	margin-top: 10px;
	text-decoration: none!important;
	transition-duration:.2s;
	border-radius: $base-border-radius;
	position:relative;
	// &:hover{
	// 	border:1px solid shade($border-color,20%);
	// }
	img{
		width:30px;
		box-shadow: none!important;
		border:1px solid $border-color;
		margin-right: 8px;
		
	}
	.attachment-title{
		margin:0;
		color:$text-color;
		line-height: 26px;
	}
	.actions{
		position:absolute;
		right:0px;
		top: 0px;
		i{
			font-size: 18px;
			color: $light-text-color;
		}
	}
}

//discussion

.new-comment{
	position:fixed;
	bottom:0;
	left:280px;
	background: white;
	width: calc(100% - 280px);
	padding:$baseline 16px;
	z-index: 10;
	@include breakpoint(md) {
		width: 100%;
		left:0;
	}
	textarea{
		resize: none;
		padding:10px;
	}
	.add-comment-controls{
		margin-top:$baseline;
		display: none;
	}
	.add-comment-btn{
		
	}
	.attachment{
		color:$light-text-color;
	}
	&.focused{
		textarea{
			height:85px;
		}
		.add-comment-controls{
			display: block;
		}
	}
}

.discussion-wrapper{
	width:100%;
	margin:0 auto;
	padding-bottom:150px;
	.comments-list-container{
		width:100%;
		.comment{
			padding:16px;
			width:100%;
			position:relative;
			img{
				border-radius:4px;
				margin-bottom:5px;
			}
			.actions{
				position:absolute;
				right:10px;
				top:6px;
				button{
					&.btn-action{
						color:$light-text-color;
					}
				}
			}
		}
	}
}


//comments

.comment-number{
	background:$tertiary-color;
	text-align:center;
	width:39px;
	height:39px;
	border-radius:100px;
	color:white;
    line-height: 39px;
    font-weight: 500;
    font-size: 16px;
    font-weight:600;
    box-shadow:0 2px 4px rgba(0,0,0,.24);
    &.comment-number-sm{
		width:27px;
		height:27px;
		line-height: 27px;
		font-size: 14px;
    }
}


//zero

.notes-zero{
	display: flex;
	height:100%;
	.zero-notes-container{
		padding:$baseline*2;
		display: flex;
  flex-direction: column;
  justify-content: center;
	}

}


.note-zero{
	background:$off-white-color;
	width: 100%;
	text-align:center;
	padding:$baseline*2;
	display: flex;
	flex-direction: column;
	justify-content: center;
	z-index: -1;
  img{
  	max-width: 100%;
  	z-index: 0;
  }
}

